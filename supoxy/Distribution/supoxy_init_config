#!/bin/bash
#
# Settings file for supoxy-init
# ================================
# 
# Make a copy of this file named config
# and edit the variables to your needs.
#

# Name of vanilla server jar 
SU_JAR="SuPoxy.jar"

# Name of server.jar to use (either $SU_JAR)
SERVICE=$SU_JAR

# Name to use for the screen instance
SCREEN="supoxy_screen"

# User that should run the server
USERNAME="fhem"

# Path to supoxy server directory 
SUPATH="/opt/${USERNAME}/supoxy"

# Path to server log file ($SUPATH/server.log on older versions)
SERVERLOG="${SUPATH}/logs/latest.log"

# Initial memory usage (currently unused)
INITMEM="2048M"

# Maximum amount of memory to use (currently unused)
# Remember: give the ramdisk enough space, subtract from the total amount
# of RAM available the size of your map and the RAM-consumption of your base system.
MAXMEM="2048M"

# Whether to output commands for the plugin ConsoleLikeChat ($1 is the command to run)
FORMAT='$1'

# Settings for backups
# ===============================

# Location for backups
BACKUPPATH="$SUPATH/subackup"

# Where the whole supoxy directory is copied when whole-backup is executed
# whole-backup is a complete uncompressed backup of the whole server folder.
WHOLEBACKUP="$BACKUPPATH/server"

# Format for world backup (tar or zip).
BACKUPFORMAT="tar" 

# Normally backups will be put in a subfolder to $BACKUPPATH with todays date
# and the backups themselves will have a timestamp.

# But if BACKUPSCRIPTCOMPATIBLE is set the server backups will be put directly
# in $BACKUPPATH without timestamp to be compatible with
# [backup rotation script](https://github.com/adamfeuer/rotate-backups)
#
BACKUPSCRIPTCOMPATIBLE=YES

# Compress the whole backup with bzip2?
# Note that this may not save a lot of disk space since there can be a lot of files
# in your server directory, that are already compressed, but it can slow down the
# backup a bit. This highly depends on the plugins you're using.
#
# For example: The png files generated by Dynmap are already compressed and still use
# a lot of space in your server directory, so the compression ratio of the compressed
# backup will not be very high.
COMPRESS_WHOLEBACKUP=YES


# Settings for log rolling
# ===============================

# Location for old logs
# Used by the log-roll command
LOGPATH="$BACKUPPATH/logs"

# Whether or not to gzip logs (must be commented out for no - DO NOT CHANGE TO NO)
#
GZIPLOGS=YES

# What to append to the logfile name (Leave blank for nothing)
LOGFILEAPPEND="logfile_"

# Things to leave alone ;)
# =====================

#INVOCATION="java -Xmx$MAXMEM -Xms$INITMEM -XX:+UseConcMarkSweepGC -XX:+CMSIncrementalPacing -XX:ParallelGCThreads=$CPU_COUNT -XX:+AggressiveOpts -jar $SERVICE nogui"
INVOCATION="java -jar $SERVICE"

# Path to the the mounted ramdisk (the default will work in most senarios).
RAMDISK="/dev/shm"